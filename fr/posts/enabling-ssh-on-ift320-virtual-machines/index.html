<!doctype html><html lang=fr dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Utiliser SSH pour acc√©der aux machines virtuelles pour le cours IFT320 | jessyprovencher.xyz</title><meta name=keywords content="ift320,ssh,terminal"><meta name=description content="Pratique, mais demande un peu de jus de bras avant de pouvoir s'en servir sous Linux."><meta name=author content="Jessy Provencher"><link rel=canonical href=https://jessyprovencher.xyz/posts/enabling-ssh-on-ift320-virtual-machines/><link crossorigin=anonymous href=/assets/css/stylesheet.min.css rel="preload stylesheet" as=style><link rel=preload href=https://avatars.githubusercontent.com/u/70674444 as=image><link rel=icon href=https://jessyprovencher.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jessyprovencher.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jessyprovencher.xyz/favicon-16x16.png><link rel=apple-touch-icon href=https://jessyprovencher.xyz/apple-touch-icon.png><link rel=mask-icon href=https://jessyprovencher.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.118.2"><link rel=alternate hreflang=fr href=https://jessyprovencher.xyz/fr/posts/enabling-ssh-on-ift320-virtual-machines/><meta property="og:title" content="Utiliser SSH pour acc√©der aux machines virtuelles pour le cours IFT320"><meta property="og:description" content="Pratique, mais demande un peu de jus de bras avant de pouvoir s'en servir sous Linux."><meta property="og:type" content="article"><meta property="og:url" content="https://jessyprovencher.xyz/fr/posts/enabling-ssh-on-ift320-virtual-machines/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-13T00:00:00+00:00"><meta property="article:modified_time" content="2023-09-13T00:00:00+00:00"><meta property="og:site_name" content="jessyprovencher.xyz"><meta name=twitter:card content="summary"><meta name=twitter:title content="Utiliser SSH pour acc√©der aux machines virtuelles pour le cours IFT320"><meta name=twitter:description content="Pratique, mais demande un peu de jus de bras avant de pouvoir s'en servir sous Linux."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Articles","item":"https://jessyprovencher.xyz/fr/posts/"},{"@type":"ListItem","position":2,"name":"Utiliser SSH pour acc√©der aux machines virtuelles pour le cours IFT320","item":"https://jessyprovencher.xyz/fr/posts/enabling-ssh-on-ift320-virtual-machines/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Utiliser SSH pour acc√©der aux machines virtuelles pour le cours IFT320","name":"Utiliser SSH pour acc√©der aux machines virtuelles pour le cours IFT320","description":"Pratique, mais demande un peu de jus de bras avant de pouvoir s'en servir sous Linux.","keywords":["ift320","ssh","terminal"],"articleBody":"Probl√®me de cl√©s Dans le cadre du premier devoir (TP1) du cours IFT320, donn√© √† l‚ÄôUniversit√© de Sherbrooke, il faut r√©diger du code pour un pilote (driver) Linux.\nAfin de faciliter le transfert de code entre les deux machines virtuelles, il est pr√©f√©rable d‚Äôutiliser une connexion SSH. Par contre, puisque ces machines utilisent une vieille version du kernel (2.6.15.7) et d‚Äôanciens packages, il est possible de rencontrer des erreurs de ‚Äúmismatch‚Äù de cl√©s lorsqu‚Äôon tente de s‚Äôy connecter.\nLe probl√®me r√©side dans les algorithmes utilis√©s qui sont rendus obsol√®tes. Vivons dangereusement en autorisant l‚Äôusage de ceux-ci pour permettre la connexion aux machines virtuelles. üôÉ\nPlus pr√©cis√©ment, voici le message d‚Äôerreur que j‚Äôavais lorsque je tentais de me connecter via SSH:\nUnable to negotiate with x.x.x.x port 22: no matching key exchange method found. Their offer: diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1 Comment r√©gler √ßa? Pour ce faire, il va falloir sp√©cifier les algorithmes √† utiliser.\nOuvrez le fichier situ√© ici ~/.ssh/config. Il est possible qu‚Äôil n‚Äôexiste pas, vous pouvez le cr√©er √† l‚Äôaide de la commande touch.\nPour chaque machine vous devez ajouter ce bloc de texte:\nHost x.x.x.x KexAlgorithms +diffie-hellman-group1-sha1 Ciphers aes128-cbc,3des-cbc,aes192-cbc,aes256-cbc User ift320 PubkeyAcceptedAlgorithms +ssh-rsa HostkeyAlgorithms +ssh-rsa o√π x.x.x.x est l‚Äôadresse IP de chaque machine. Vous pouvez la trouver gr√¢ce √† la commande ifconfig.\nVous pouvez √©galement remplacer par Host * pour l‚Äôappliquer √† tous les h√¥tes (hosts).\nLe changement devrait √™tre imm√©diat, mais dans le cas √©ch√©ant, vous pouvez red√©marrer le service SSH √† l‚Äôaide de la commande suivante: systemctl restart sshd.\nSi tout se passe bien, vous devriez √™tre en mesure de vous connecter via SSH aux machines virtuelles!\nCertaines commandes ne fonctionnent pas? Effectivement, si vous tentez de faire par ex. clean ou nano, vous risquez d‚Äôavoir l‚Äôerreur suivante: 'xterm-256color': unknown terminal type.\nPour r√©gler celle-ci, vous devrez modifier le fichier .bashrc ou .zshrc sur la machine h√¥te.\nAjoutez cette ligne: export TERM=\"xterm\".\nVous aurez peut-√™tre besoin de faire source .bashrc ou source .zshrc afin que les changements soient appliqu√©s. Vous serez ensuite en mesure d‚Äôutiliser ces commandes.\nConclusion Gr√¢ce √† ces modifications, vous serez en mesure de travailler sur les machines virtuelles sans passer par leur interface graphique.\nSur ce, bonne chance avec le devoir! üìù\n","wordCount":"367","inLanguage":"fr","datePublished":"2023-09-13T00:00:00Z","dateModified":"2023-09-13T00:00:00Z","author":{"@type":"Person","name":"Jessy Provencher"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jessyprovencher.xyz/fr/posts/enabling-ssh-on-ift320-virtual-machines/"},"publisher":{"@type":"Organization","name":"jessyprovencher.xyz","logo":{"@type":"ImageObject","url":"https://jessyprovencher.xyz/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jessyprovencher.xyz/fr/ accesskey=h title="jessyprovencher.xyz (Alt + H)">jessyprovencher.xyz</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://jessyprovencher.xyz/ title=English aria-label=:us:>üá∫üá∏</a></li></ul></span></div><ul id=menu><li><a href=https://jessyprovencher.xyz/fr/posts/ title=articles><span>articles</span></a></li><li><a href=https://jessyprovencher.xyz/fr/tags/ title=mots-cl√©s><span>mots-cl√©s</span></a></li><li><a href=https://jessyprovencher.xyz/fr/categories/ title=cat√©gories><span>cat√©gories</span></a></li><li><a href=https://jessyprovencher.xyz/fr/search/ title="recherche (Alt + /)" accesskey=/><span>recherche</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://jessyprovencher.xyz/fr/>Accueil</a>&nbsp;¬ª&nbsp;<a href=https://jessyprovencher.xyz/fr/posts/>Articles</a></div><h1 class=post-title>Utiliser SSH pour acc√©der aux machines virtuelles pour le cours IFT320</h1><div class=post-description>Pratique, mais demande un peu de jus de bras avant de pouvoir s'en servir sous Linux.</div><div class=post-meta>13&nbsp;septembre 2023
¬∑ 2 minutes&nbsp;¬∑&nbsp;Jessy Provencher&nbsp;|&nbsp;<a href=https://github.com/jessyprovencher/jessyprovencher-xyz/tree/master/content/posts/enabling-ssh-on-ift320-virtual-machines.fr.md rel="noopener noreferrer" target=_blank>Sugg√©rer des changements</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table des mati√®res</div></summary><div class=inner><ul><li><a href=#probl%c3%a8me-de-cl%c3%a9s aria-label="Probl√®me de cl√©s">Probl√®me de cl√©s</a></li><li><a href=#comment-r%c3%a9gler-%c3%a7a aria-label="Comment r√©gler √ßa?">Comment r√©gler √ßa?</a></li><li><a href=#certaines-commandes-ne-fonctionnent-pas aria-label="Certaines commandes ne fonctionnent pas?">Certaines commandes ne fonctionnent pas?</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><h1 id=probl√®me-de-cl√©s>Probl√®me de cl√©s<a hidden class=anchor aria-hidden=true href=#probl√®me-de-cl√©s>#</a></h1><p>Dans le cadre du premier devoir (TP1) du cours IFT320, donn√© √† l&rsquo;Universit√© de Sherbrooke, il faut r√©diger du code pour un pilote (driver) Linux.</p><p>Afin de faciliter le transfert de code entre les deux machines virtuelles, il est pr√©f√©rable d&rsquo;utiliser une connexion SSH. Par contre, puisque ces machines utilisent une vieille version du kernel (2.6.15.7) et d&rsquo;anciens packages, il est possible de rencontrer des erreurs de &ldquo;mismatch&rdquo; de cl√©s lorsqu&rsquo;on tente de s&rsquo;y connecter.</p><p>Le probl√®me r√©side dans les algorithmes utilis√©s qui sont rendus obsol√®tes. Vivons dangereusement en autorisant l&rsquo;usage de ceux-ci pour permettre la connexion aux machines virtuelles. üôÉ</p><p>Plus pr√©cis√©ment, voici le message d&rsquo;erreur que j&rsquo;avais lorsque je tentais de me connecter via SSH:</p><pre tabindex=0><code>Unable to negotiate with x.x.x.x port 22: no matching key exchange method found. Their offer: diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
</code></pre><h1 id=comment-r√©gler-√ßa>Comment r√©gler √ßa?<a hidden class=anchor aria-hidden=true href=#comment-r√©gler-√ßa>#</a></h1><p>Pour ce faire, il va falloir sp√©cifier les algorithmes √† utiliser.</p><p>Ouvrez le fichier situ√© ici <code>~/.ssh/config</code>. Il est possible qu&rsquo;il n&rsquo;existe pas, vous pouvez le cr√©er √† l&rsquo;aide de la commande <code>touch</code>.</p><p>Pour chaque machine vous devez ajouter ce bloc de texte:</p><pre tabindex=0><code>Host x.x.x.x    
    KexAlgorithms +diffie-hellman-group1-sha1
    Ciphers aes128-cbc,3des-cbc,aes192-cbc,aes256-cbc
    User ift320
    PubkeyAcceptedAlgorithms +ssh-rsa
    HostkeyAlgorithms +ssh-rsa
</code></pre><p>o√π <code>x.x.x.x</code> est l&rsquo;adresse IP de chaque machine. Vous pouvez la trouver gr√¢ce √† la commande <code>ifconfig</code>.</p><p>Vous pouvez √©galement remplacer par <code>Host *</code> pour l&rsquo;appliquer √† tous les h√¥tes (hosts).</p><p>Le changement devrait √™tre imm√©diat, mais dans le cas √©ch√©ant, vous pouvez red√©marrer le service SSH √† l&rsquo;aide de la commande suivante: <code>systemctl restart sshd</code>.</p><p>Si tout se passe bien, vous devriez √™tre en mesure de vous connecter via SSH aux machines virtuelles!</p><h1 id=certaines-commandes-ne-fonctionnent-pas>Certaines commandes ne fonctionnent pas?<a hidden class=anchor aria-hidden=true href=#certaines-commandes-ne-fonctionnent-pas>#</a></h1><p>Effectivement, si vous tentez de faire par ex. <code>clean</code> ou <code>nano</code>, vous risquez d&rsquo;avoir l&rsquo;erreur suivante: <code>'xterm-256color': unknown terminal type</code>.</p><p>Pour r√©gler celle-ci, vous devrez modifier le fichier <code>.bashrc</code> ou <code>.zshrc</code> sur la machine h√¥te.</p><p>Ajoutez cette ligne: <code>export TERM="xterm"</code>.</p><p>Vous aurez peut-√™tre besoin de faire <code>source .bashrc</code> ou <code>source .zshrc</code> afin que les changements soient appliqu√©s. Vous serez ensuite en mesure d&rsquo;utiliser ces commandes.</p><h1 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h1><p>Gr√¢ce √† ces modifications, vous serez en mesure de travailler sur les machines virtuelles sans passer par leur interface graphique.</p><p>Sur ce, bonne chance avec le devoir! üìù</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jessyprovencher.xyz/fr/tags/ift320/>ift320</a></li><li><a href=https://jessyprovencher.xyz/fr/tags/ssh/>ssh</a></li><li><a href=https://jessyprovencher.xyz/fr/tags/terminal/>terminal</a></li></ul><nav class=paginav><a class=next href=https://jessyprovencher.xyz/fr/posts/validating-xml/><span class=title>Page suivante ¬ª</span><br><span>Validation XML</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 | <a href=https://jessyprovencher.xyz/fr/>jessyprovencher.xyz</a></span></footer><a href=#top aria-label="go to top" title="Aller en haut (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copier";function s(){t.innerText="copi√©!",setTimeout(()=>{t.innerText="copier"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>